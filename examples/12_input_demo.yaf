# Ejemplo 12: Demo Completo de Input y AnÃ¡lisis EstadÃ­stico
# Sistema avanzado de entrada de datos con anÃ¡lisis matemÃ¡tico

func validar_positivo(numero: int) -> int {
    if numero > 0 {
        return 1  # VÃ¡lido
    } else {
        return 0  # InvÃ¡lido
    }
}

func encontrar_maximo(nums: int, num1: int, num2: int, num3: int, num4: int, num5: int) -> int {
    maximo = num1
    
    if nums >= 2 && num2 > maximo {
        maximo = num2
    }
    if nums >= 3 && num3 > maximo {
        maximo = num3
    }
    if nums >= 4 && num4 > maximo {
        maximo = num4
    }
    if nums >= 5 && num5 > maximo {
        maximo = num5
    }
    
    return maximo
}

func encontrar_minimo(nums: int, num1: int, num2: int, num3: int, num4: int, num5: int) -> int {
    minimo = num1
    
    if nums >= 2 && num2 < minimo {
        minimo = num2
    }
    if nums >= 3 && num3 < minimo {
        minimo = num3
    }
    if nums >= 4 && num4 < minimo {
        minimo = num4
    }
    if nums >= 5 && num5 < minimo {
        minimo = num5
    }
    
    return minimo
}

func clasificar_numero(numero: int) -> int {
    if numero < 10 {
        return 1  # PequeÃ±o
    } else {
        if numero < 100 {
            return 2  # Mediano
        } else {
            return 3  # Grande
        }
    }
}

func main() {
    print("=== ğŸ“Š ANALIZADOR ESTADÃSTICO YAF ğŸ“Š ===")
    print("Sistema avanzado de anÃ¡lisis de datos")
    
    print("")
    print("Ingresa tu nombre: ")
    analista = input()
    print("Â¡Bienvenido ", analista, "!")
    
    print("")
    print("ğŸ”¢ Â¿CuÃ¡ntos nÃºmeros quieres analizar? (1-5): ")
    cantidad_str = input()
    cantidad = string_to_int(cantidad_str)
    
    if cantidad < 1 || cantidad > 5 {
        print("âŒ Cantidad invÃ¡lida. Usando 3 nÃºmeros por defecto.")
        cantidad = 3
    }
    
    # Variables para almacenar hasta 5 nÃºmeros
    num1 = 0
    num2 = 0
    num3 = 0
    num4 = 0
    num5 = 0
    suma_total = 0
    numeros_pequenos = 0
    numeros_medianos = 0
    numeros_grandes = 0
    
    print("")
    print("ğŸ“ Ingresa ", int_to_string(cantidad), " nÃºmeros positivos:")
    
    for i = 1; i <= cantidad; i = i + 1 {
        print("NÃºmero ", int_to_string(i), ": ")
        numero_str = input()
        numero = string_to_int(numero_str)
        
        # Validar que sea positivo
        es_valido = validar_positivo(numero)
        if es_valido == 0 {
            print("âš ï¸  NÃºmero no positivo, usando valor absoluto")
            if numero < 0 {
                numero = 0 - numero  # Valor absoluto
            } else {
                numero = 1  # Si es cero, usar 1
            }
        }
        
        # Almacenar segÃºn posiciÃ³n
        if i == 1 {
            num1 = numero
        } else {
            if i == 2 {
                num2 = numero
            } else {
                if i == 3 {
                    num3 = numero
                } else {
                    if i == 4 {
                        num4 = numero
                    } else {
                        num5 = numero
                    }
                }
            }
        }
        
        # Clasificar nÃºmero
        clasificacion = clasificar_numero(numero)
        if clasificacion == 1 {
            numeros_pequenos = numeros_pequenos + 1
            print("  â†’ Clasificado como: PEQUEÃ‘O (< 10)")
        } else {
            if clasificacion == 2 {
                numeros_medianos = numeros_medianos + 1
                print("  â†’ Clasificado como: MEDIANO (10-99)")
            } else {
                numeros_grandes = numeros_grandes + 1
                print("  â†’ Clasificado como: GRANDE (â‰¥ 100)")
            }
        }
        
        suma_total = suma_total + numero
        print("  â†’ Suma acumulada: ", int_to_string(suma_total))
    }
    
    # AnÃ¡lisis estadÃ­stico
    print("")
    print("=== ğŸ“ˆ ANÃLISIS ESTADÃSTICO ===")
    print("Analista: ", analista)
    print("NÃºmeros analizados: ", int_to_string(cantidad))
    print("")
    
    # EstadÃ­sticas bÃ¡sicas
    promedio = suma_total / cantidad
    print("ğŸ“Š Suma total: ", int_to_string(suma_total))
    print("ğŸ“Š Promedio: ", int_to_string(promedio))
    
    # MÃ¡ximo y mÃ­nimo
    maximo = encontrar_maximo(cantidad, num1, num2, num3, num4, num5)
    minimo = encontrar_minimo(cantidad, num1, num2, num3, num4, num5)
    print("ğŸ“Š NÃºmero mÃ¡ximo: ", int_to_string(maximo))
    print("ğŸ“Š NÃºmero mÃ­nimo: ", int_to_string(minimo))
    print("ğŸ“Š Rango: ", int_to_string(maximo - minimo))
    
    # DistribuciÃ³n por tamaÃ±os
    print("")
    print("=== ğŸ“ˆ DISTRIBUCIÃ“N POR TAMAÃ‘OS ===")
    print("PequeÃ±os (< 10): ", int_to_string(numeros_pequenos))
    print("Medianos (10-99): ", int_to_string(numeros_medianos))
    print("Grandes (â‰¥ 100): ", int_to_string(numeros_grandes))
    
    # AnÃ¡lisis avanzado
    print("")
    print("=== ğŸ¯ ANÃLISIS AVANZADO ===")
    
    if promedio > 50 {
        print("ğŸ’¹ Dataset con tendencia ALTA (promedio > 50)")
    } else {
        print("ğŸ“‰ Dataset con tendencia BAJA (promedio â‰¤ 50)")
    }
    
    if numeros_grandes > numeros_pequenos {
        print("ğŸ“Š Predominan nÃºmeros GRANDES")
    } else {
        if numeros_pequenos > numeros_grandes {
            print("ğŸ“Š Predominan nÃºmeros PEQUEÃ‘OS")
        } else {
            print("ğŸ“Š DistribuciÃ³n EQUILIBRADA")
        }
    }
    
    print("")
    print("âœ… AnÃ¡lisis completado exitosamente")
    print("ğŸš€ Gracias por usar el Analizador YAF, ", analista, "!")
}